Conexão com o Mysql( mysql.connector)
import mysql.connector

# Connect to server
conexao = mysql.connector.connect(
    host="127.0.0.1", #IP padrao
    port=3306, #porta padrao
    user="root", #admin 
    password="Aluno123", #
    database="ESTOQUE"
    )

# Get a cursor
cursor = conexao.cursor()

# Execute a query
# cursor.execute("CREATE DATABASE ESTOQUE;")
# cursor.execute("""
# CREATE TABLE PRODUTOS(
#                id INT PRIMARY KEY AUTO_INCREMENT,
#                nome VARCHAR(100),
#                descricao VARCHAR(255),
#                quantidade INT,
#                preco DECIMAL(10,02));""")

class Produto:
    def __init__(self, nome, descricao, quantidade, preco, id=None):
        self.id = id
        self.nome = nome
        self.descricao = descricao
        self.quantidade = quantidade
        self.preco = preco
        

    def salvar_produto(self):
        comando = """
            INSERT INTO produtos (nome, descricao, quantidade, preco)
            VALUES (%s, %s, %s, %s)
            """
        
        dados = (self.nome, self.descricao, self.quantidade, self.preco)
        cursor.execute(comando, dados)
        conexao.commit()
        self.id = cursor.lastrowid #Retorna o id da ultima linha

        return f'{self.id} - {self.nome} cadastrado com sucesso!'
#os metodos tem que estar dentro da classe!

produto1 = Produto('notebook', 'Samsung Book 4', 50, 5000)
print(produto1.salvar_produto())
produto2 = Produto('Samsung 25', 'Galaxy S25', 10, 6000)
print(produto2.salvar_produto())

def listar_produtos():
    #Retornar todos os produtos
    cursor.execute(
    """
        SELECT * FROM produtos
    """
    )

    for produto in cursor.fetchall():
        print('-----------')
        print(f'ID: {produto[0]}')
        print(f'Nome: {produto[1]}')
        print(f'Descrição: {produto[2]}')
        print(f'Quantidade: {produto[3]}')
        print(f'Preço: {produto[4]}')

listar_produtos()


# conexao.commit()
# # Close connection
# conexao.close()
